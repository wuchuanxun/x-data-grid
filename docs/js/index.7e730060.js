(function(e){function t(t){for(var o,l,a=t[0],s=t[1],c=t[2],d=0,p=[];d<a.length;d++)l=a[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&p.push(i[l][0]),i[l]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(o=!1)}o&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},i={index:0},r=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/x-data-grid/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("a1ec")},7560:function(e,t,n){},a1ec:function(e,t,n){"use strict";n.r(t);var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("x-data-grid",{attrs:{height:"calc(100vh - 200px)",editable:!0,source:e.data,columns:e.columns,"page-size":50,"page-index":0},on:{selectChanged:e.showId},scopedSlots:e._u([{key:"operation",fn:function(t,o){return[n("button",{on:{click:function(t){return e.deleteRow(o)}}},[e._v(" 删除 ")])]}}])},[n("template",{slot:"_action"},[e._v(" 导出 ")])],2)],1)},r=[],l={name:"App",data(){return{columns:[{type:"_check",width:40,align:"center",fixed:"left"},{title:"名称",key:"name",type:"text",adjustable:!0,filterable:!0,width:100,ellipsis:!0,sortable:!0},{title:"数量",key:"num",sortable:!0,sortFn:null,adjustable:!0,filterable:!0,type:"number",align:"center"},{title:"单价",adjustable:!0,key:"unitPrice",width:800},{title:"操作",key:"none",width:100,scopedSlots:"operation",fixed:"right"}],data:[]}},created(){const e=[];for(let t=0;t<1e4;t++)e.push({name:"真果切换绑阿萨德群无多无群定强无敌无抢班夺权我觉得千万 ",num:2*t+.2131213,unitPrice:59.9,id:3*t},{name:"苏泊力锅 ",num:3*t,unitPrice:0x7932b535bdf5e,id:3*t+1},{name:"乐薯片",num:4*t,unitPrice:63,id:3*t+2});this.data=e},methods:{showId(e){},deleteRow(e){}}},a=l,s=(n("dfa1"),n("2877")),c=Object(s["a"])(a,i,r,!1,null,null,null),u=c.exports,d=(n("a9e3"),n("159b"),n("c7cd"),n("fb6a"),n("d3b7"),n("25f0"),n("ca21"),n("99af"),n("e260"),n("ddb0"),n("caad"),n("2532"),n("498a"),n("d81d"),n("841c"),n("ac1f"),n("5530")),p=n("b85c"),h=n("6062"),f=n("b012"),y=n("6612"),g=n.n(y),x=function(e,t){return e<t?-1:e>t?1:0},m="0,0[.]00",b={name:"x-data-grid",props:{columns:{type:Array,default:function(){return[]}},source:{type:Array,default:function(){return[]}},pageSize:{type:Number,default:0},editable:{type:Boolean,default:!1},height:{type:String,default:""},rowKey:{type:String,default:"_index"}},data:function(){return{pageX:0,inResize:!1,colWidth:0,col:null,nextCol:null,nextColWidth:0,editCell:[1,1],pageIndex:0,options:{useExtendedSearch:!0,keys:["."]},filterSource:[],activeRowKey:-1,sortFn:x,sortType:"normal",sortKey:null}},computed:{fuse:function(){return new h["a"](this.source,this.options)}},render:function(e){var t=this,n=[],o=[],i=[],r=0,l=0,a=0;this.columns.forEach((function(e){"right"===e.fixed&&(r+=e.width)})),a=r,this.columns.forEach((function(i,r){"_check"===i.type?o.push(e("col",{style:{width:(i.width||20)+"px"}})):i.width?o.push(e("col",{style:{width:i.width+"px"}})):i.minWidth?o.push(e("col",{style:{width:i.minWidth+"px"}})):o.push(e("col"));var c=[i.title];"_check"===i.type?c=[e("input",{attrs:{type:"checkbox",checked:!1},on:{change:function(e){var n,o=e.target.checked,i=[],r=Object(p["a"])(s);try{for(r.s();!(n=r.n()).done;){var l=n.value;t.$set(l,"_checked",o),o&&i.push(l[t.rowKey])}}catch(a){r.e(a)}finally{r.f()}t.$emit("selectChanged",i)}}})]:i.sortable&&("asc"===i._sortType?c[0]+="↑":"desc"===i._sortType?c[0]+="↓":c[0]+="↑↓");var u={};i.sortable&&(u.click=function(e){if("normal"===i._sortType?t.sortType="asc":"asc"===i._sortType?t.sortType="desc":t.sortType="normal",t.sortFn=i.sortFn||x,t.sortKey=i.key,t.columns.forEach((function(e,n){e._sortType=n===r?t.sortType:"normal"})),"normal"!==t.sortType){var n="asc"===t.sortType?1:-1;t.filterSource.sort((function(e,o){return t.sortFn(e[t.sortKey],o[t.sortKey])*n}))}else t.filterSource.sort((function(e,t){return x(e._index,t._index)}));t.columns.push()}),"left"===i.fixed?(n.push(e("th",{style:{userSelect:"none",position:"sticky",left:l+"px",textAlign:i.align||"left",zIndex:10},on:u},c)),l+=i.width):"right"===i.fixed?(a-=i.width,n.push(e("th",{style:{userSelect:"none",position:"sticky",right:a+"px",borderLeft:"1px solid #D8DADC",textAlign:i.align||"left",zIndex:10},on:u},c))):i.adjustable?n.push(e("th",{style:{userSelect:"none",textAlign:i.align||"left"},on:u},[e("span",{style:{display:"inline-block",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},c),e("div",{style:{top:0,right:"-4px",width:"8px",position:"absolute",cursor:"col-resize",height:"100%",touchAction:"none"},on:{mousedown:function(e){e.stopPropagation(),t.pageX=e.pageX;var n=e.target.parentElement,o=n.nextElementSibling;t.colWidth=n.offsetWidth,t.inResize=!0,t.col=i,t.nextCol=t.columns[r+1],o&&(t.nextColWidth=o.offsetWidth)},click:function(e){e.stopPropagation()}}})])):n.push(e("th",{style:{userSelect:"none",textAlign:i.align||"left"},on:u},c))}));var s=this.filterSource;this.pageSize>0&&(s=s.slice(this.pageSize*this.pageIndex,this.pageSize*this.pageIndex+this.pageSize)),s.forEach((function(n,o){var c=[];l=0,a=r,t.enableRowSelector&&c.push(e("input",{attrs:{type:"checkbox"}})),t.columns.forEach((function(o){var i=o.ellipsis?{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}:{},r=n[o.key];"number"===o.type&&(r=g()(r).format(o.format)),"_check"===o.type?r=[e("input",{attrs:{type:"checkbox",checked:n._checked},on:{change:function(e){var o=e.target.checked;n._checked=o;var i,r=[],l=Object(p["a"])(s);try{for(l.s();!(i=l.n()).done;){var a=i.value;a._checked&&r.push(a[t.rowKey])}}catch(c){l.e(c)}finally{l.f()}t.$emit("selectChanged",r)}}})]:o.scopedSlots&&(r=t.$scopedSlots[o.scopedSlots](r,n,n._index)),"left"===o.fixed?(i.position="sticky",i.left=l+"px",i.zIndex=9,l+=o.width):"right"===o.fixed&&(a-=o.width,i.position="sticky",i.right=a+"px",i.zIndex=9,i.borderLeft="1px solid #D8DADC"),!1===t.editable?c.push(e("td",{style:Object(d["a"])({wordBreak:"break-all",textAlign:o.align||"left"},i)},r)):t.editCell[0]===n._index&&t.editCell[1]===o.key?c.push(e("td",[e("input",{style:{width:"100%",margin:0,padding:0,border:"none",outlineStyle:"none",fontSize:"16px"},attrs:{value:n[o.key]},ref:"editCell",on:{blur:function(){t.$set(t,"editCell",[-1,-1])},keyup:function(e){"Enter"!==e.key&&13!==e.keyCode||(t.source[t.editCell[0]][t.editCell[1]]=e.target.value,t.$set(t,"editCell",[-1,-1]))}}})])):c.push(e("td",{style:Object(d["a"])({wordBreak:"break-all",textAlign:o.align||"left"},i),on:{dblclick:function(e){if("_check"===o.type||o.scopedSlots)return!1;t.editCell=[n._index,o.key],setTimeout((function(){t.$refs.editCell.focus(),t.$refs.editCell.selectionStart=t.$refs.editCell.selectionEnd=n[o.key].toString().length}),200)}}},r))})),i.push(e("tr",{class:{"zebra-pattern":o%2===1,active:n[t.rowKey]===t.activeRowKey},on:{click:function(){t.activeRowKey=n[t.rowKey],t.$emit("activeRowChanged",n)}}},c))}));var c=null;if(this.pageSize>0){var u=[],h=Math.ceil(this.filterSource.length/this.pageSize);u.push(e("span",{style:{marginRight:"5px"}},"跳转到")),u.push(e("input",{class:"x-page-number",attrs:{value:t.pageIndex+1,type:"number",min:1,max:h},style:{width:8*Math.floor(Math.log10(h))+25+"px",outlineStyle:"none",border:"1px solid #ccc",fontSize:"16px"},on:{change:function(e){var n=parseInt(e.target.value);t.pageIndex=n<1?0:n>h?h-1:n-1}}})),u.push(e("span",{style:{margin:"0 5px"}},"页")),u.push(e("button",{class:"x-nav-bt",domProps:{disabled:0===t.pageIndex},on:{click:function(e){t.pageIndex-=1}}},"<")),u.push(e("span",{style:{color:"#708DF4"}},this.pageIndex+1+"/"+h)),u.push(e("button",{class:"x-nav-bt",domProps:{disabled:t.pageIndex===h-1},on:{click:function(e){t.pageIndex+=1}}},">"));var y=e("span",{style:{float:"right"}},u),m=e("span","共有数据".concat(this.source.length,"条, 筛选结果").concat(this.filterSource.length,"条"));c=e("div",{style:{textAlign:"left",background:"#F8F8F9",padding:"5px 10px",fontSize:"14px"}},[m,y])}var b,v=[],w=[],k=Object(p["a"])(this.columns);try{for(k.s();!(b=k.n()).done;){var S=b.value;S.filterable&&(v.push(e("option",{attrs:{value:S.key}},S.title)),w.push(S.key))}}catch(C){k.e(C)}finally{k.f()}var _=[];return _.push(e("select",{on:{change:function(e){t.options.keys=[e.target.value]}}},[e("option",{attrs:{value:"."}},"全部")].concat(v))),_.push(e("input",{on:{input:Object(f["debounce"])((function(e){t.options.keys.includes(".")&&(t.options.keys=w);var n=e.target.value.trim();0===n.length?t.filterSource=t.source:t.filterSource=t.fuse.search(n).map((function(e){return e.item})),t.pageIndex=0}),300),keyup:function(e){if("Enter"===e.key||13===e.keyCode){t.options.keys.includes(".")&&(t.options.keys=w);var n=e.target.value.trim();0===n.length?t.filterSource=t.source:t.filterSource=t.fuse.search(n).map((function(e){return e.item})),t.pageIndex=0}}}})),_.push(e("span",{style:{color:"#5A77B3",marginLeft:"5px"},attrs:{tooltip:"文本前加=表示完全匹配\n        文本前加'表示包含\n        文本前加!表示不包含\n        文本前加^表示开头为\n        文本前加!^表示开头不为\n        文本后加$表示结尾为\n        文本前加!，后加$表结尾不为\n        空格表示与，|表示或"}},"☀")),_.push(e("span",{style:{float:"right"}},t.$slots._action)),e("div",{class:"x-data-grid"},[e("div",{class:"x-table-title",style:{textAlign:"left"}},_),e("div",{style:{width:"100%",height:this.height,padding:"0 0 0 0",overflowY:"scroll",overflowX:"auto"}},[e("table",{style:{margin:0,width:"calc(100% - 4px)"}},[e("colgroup",o),e("thead",[e("tr",n)]),e("tbody",i)])]),c])},mounted:function(){this.columns.map((function(e,t){return e._sortType="normal",e._index=t,"number"!==e.type||e.format||(e.format=m),e})),this.source.map((function(e,t){return e._index=t,e})),this.filterSource=this.source;var e=this;document.addEventListener("mousemove",(function(t){if(e.inResize){var n=t.pageX-e.pageX;e.$set(e.col,"width",Math.max(e.col.minWidth||10,e.colWidth+n)),e.nextCol&&!e.nextCol.fixed&&e.$set(e.nextCol,"width",Math.max(e.nextCol.minWidth||10,e.nextColWidth-n))}})),document.addEventListener("mouseup",(function(t){e.inResize=!1,e.pageX=void 0}))}};n("7560");o["a"].component("x-data-grid",b),new o["a"]({render:e=>e(u)}).$mount("#app")},dfa1:function(e,t,n){"use strict";n("f489")},f489:function(e,t,n){}});
//# sourceMappingURL=index.7e730060.js.map